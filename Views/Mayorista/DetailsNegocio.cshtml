@model vercom.Models.negocio
@{
    ViewBag.Title = "DETALLES DEL NEGOCIO";
}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>DETALLES DEL NEGOCIO</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="@Url.Action("Index", "Home")">Inicio</a>
            </li>
            <li class="breadcrumb-item">
                    <a href="@Url.Action("Index", "Mayorista")">Venta mayorista</a>
            </li>
            <li class="breadcrumb-item">
                <a href="@Url.Action("Index", "Mayorista")">Negocios</a>
            </li>
            <li class="active breadcrumb-item">
                <strong>Detalles del negocio</strong>
            </li>
        </ol>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-title">
                    <h5>DETALLES DE NEGOCIOS <small class="m-l-sm"> @Model.forma_operacion.forma a @Model.cliente.nombre de @Model.producto_servicio.nombre</small></h5>
                    <div class="ibox-tools">
                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        <a class="fullscreen-link"><i class="fa fa-expand"></i></a>
                        <a class="close-link"><i class="fa fa-times"></i></a>
                    </div>
                </div>
                <div class="ibox-content">
                    @{
                        var importe = Model.cantidad * Model.producto_servicio.precio;
                        var costo = Model.cantidad * Model.producto_servicio.costo;
                        var utilidad = importe - costo;

                    }
                    <div class="row">
                        <div class="col-md-6">                           
                            <h4><strong>Fecha:</strong> @Model.fecha.Value.ToString("dd/MM/yyyy")</h4>
                            <h4><strong>Factura No.:</strong> @Model.factura</h4>                       
                            <h4><strong>Tipo de Factura:</strong> @(Model.tipo_factura != null ? Model.tipo_factura.tipo : "No especificado")</h4>
                            <h4><strong>Medio de Pago:</strong> @(Model.medio_pago != null ? Model.medio_pago.medio : "No especificado")</h4>
                        </div>
                        <div class="col-md-6">
                            <h4><strong>Operación:</strong> @(Model.forma_operacion != null ? Model.forma_operacion.forma : "No asignada")</h4>
                            <h4><strong>Producto:</strong> @(Model.producto_servicio != null ? Model.producto_servicio.nombre : "No asignado")</h4>
                            <h4><strong>Cantidad:</strong>@(Model.cantidad.HasValue ? Model.cantidad.Value.ToString("N2") : "No especificada")</h4>
                            <h4><strong>Costo:</strong> @(costo.HasValue ? costo.Value.ToString("N2") : "No especificada")</h4>
                            <h4><strong>Importe:</strong> @(importe.HasValue ? importe.Value.ToString("N2") : "No especificada")</h4>
                            <h4><strong>Utilidad:</strong> @(utilidad.HasValue ? utilidad.Value.ToString("N2") : "No especificada")</h4>
                        </div>
                    </div>

                    <hr>
                    <h3>Información del Cliente</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <h4><strong>Nombre:</strong> @(Model.cliente != null ? Model.cliente.nombre : "No asignado")</h4>
                            <h4><strong>Nacionalidad:</strong> @(Model.cliente != null ? Model.cliente.nacionalidad : "No disponible")</h4>
                            <h4><strong>Dirección:</strong> @(Model.cliente != null ? Model.cliente.direccion : "No disponible")</h4>
                            <h4><strong>Provincia:</strong> @(Model.cliente != null ? Model.cliente.provincia : "No especificada")</h4>
                            <h4><strong>Municipio:</strong> @(Model.cliente != null ? Model.cliente.municipio : "No especificado")</h4>
                            <h4><strong>Localidad:</strong> @(Model.cliente != null ? Model.cliente.localidad : "No especificada")</h4>
                        </div>
                        <div class="col-md-6">
                            <h4><strong>NIT:</strong> @(Model.cliente != null ? Model.cliente.nit : "No especificado")</h4>
                            <h4><strong>REEUP:</strong> @(Model.cliente != null ? Model.cliente.reeup : "No especificado")</h4>
                            <h4><strong>RENAE:</strong> @(Model.cliente != null ? Model.cliente.renae : "No especificado")</h4>
                            <h4><strong>Tipo de Cliente:</strong> @(Model.cliente?.tipo_cliente != null ? Model.cliente.tipo_cliente.tipo : "No definido")</h4>
                        </div>
                    </div>


                    <div class="text-right mt-3">
                        <a class="btn btn-default btn-rounded" href="@Url.Action("Index", "Mayorista")">
                            <i class="fa fa-arrow-left"></i> Volver a la lista
                        </a>
                        <a class="btn btn-outline-success btn-rounded" href="@Url.Action("EditNegocio", "Mayorista", new { id = Model.id })">
                            <i class="fa fa-edit"></i> Editar
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
    @Styles.Render("~/Content/plugins/dataTables/dataTablesStyles")
}

@section Scripts {
    @Scripts.Render("~/plugins/dataTables")
}